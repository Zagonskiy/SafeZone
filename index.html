<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SafeZone | Secure Terminal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="device-case" id="main-case">
        <div class="screw tl"></div><div class="screw tr"></div>
        <div class="screw bl"></div><div class="screw br"></div>

        <div class="screen-container">
            
            <div id="auth-screen" class="screen active">
                <div class="logo-area">
                    <h1>SAFE<span class="highlight">ZONE</span></h1>
                    <p class="status">SYSTEM: ONLINE</p>
                </div>
                <form id="login-form">
                    <h2 class="military-title">/// –î–û–°–¢–£–ü –ö –¢–ï–†–ú–ò–ù–ê–õ–£ ///</h2>
                    <div class="input-group">
                        <label>–ò–î–ï–ù–¢–ò–§–ò–ö–ê–¢–û–†</label>
                        <input type="text" id="login-id" placeholder="–ü–û–ß–¢–ê / –ü–û–ó–´–í–ù–û–ô" required>
                    </div>
                    <div class="input-group">
                        <label>–ö–û–î –î–û–°–¢–£–ü–ê</label>
                        <input type="password" id="login-pass" placeholder="******" required>
                    </div>
                    <button type="submit" class="btn-metal">–ü–û–î–¢–í–ï–†–î–ò–¢–¨ –õ–ò–ß–ù–û–°–¢–¨</button>
                    <p class="switch-mode" id="to-register">>> –ó–ê–ü–†–û–°–ò–¢–¨ –ù–û–í–´–ô –î–û–ü–£–°–ö</p>
                </form>
                <form id="register-form" style="display: none;">
                    <h2 class="military-title">/// –ó–ê–ü–†–û–° –î–û–ü–£–°–ö–ê ///</h2>
                    <div class="input-group">
                        <label>–õ–ò–ß–ù–´–ô –ü–û–ó–´–í–ù–û–ô</label>
                        <input type="text" id="reg-nick" placeholder="COBRA-01" required>
                    </div>
                    <div class="input-group">
                        <label>–ß–ê–°–¢–û–¢–ê –°–í–Ø–ó–ò (EMAIL)</label>
                        <input type="email" id="reg-email" placeholder="soldier@base.com" required>
                    </div>
                    <div class="input-group">
                        <label>–ö–û–î –î–û–°–¢–£–ü–ê</label>
                        <input type="password" id="reg-pass" placeholder="******" required>
                    </div>
                    <div class="input-group">
                        <label>–ü–û–í–¢–û–†–ò–¢–¨ –ö–û–î</label>
                        <input type="password" id="reg-pass-conf" placeholder="******" required>
                    </div>
                    <button type="submit" class="btn-metal danger">–û–§–û–†–ú–ò–¢–¨ –î–û–ü–£–°–ö</button>
                    <p class="switch-mode" id="to-login"><< –í–ï–†–ù–£–¢–¨–°–Ø –ù–ê –ö–ü–ü</p>
                </form>
                <div id="error-log" class="console-output"></div>
            </div>

            <div id="app-interface" class="app-interface hidden">
                
                <div id="hq-screen" class="screen-panel side-panel">
                    <header class="top-bar">
                        <div id="my-profile-link" class="profile-link">
                            <img id="my-mini-avatar" src="" class="avatar-mini" style="display:none">
                            <span id="user-display">–ë–û–ï–¶: UNKNOWN</span>
                        </div>
                        <button id="logout-btn" class="btn-small">–û–¢–ë–û–ô</button>
                    </header>
                    
                    <div class="search-panel">
                        <div class="input-wrapper">
                            <input type="text" id="search-nick" placeholder="> –ü–û–ò–°–ö –¶–ï–õ–ò..." class="terminal-input" autocomplete="off">
                            <div id="search-indicator" class="typing-indicator"></div>
                            <div id="search-results" class="search-results-area" style="display: none;">
                                <div id="search-list"></div>
                            </div>
                        </div>
                    </div>

                    <div id="chats-container" class="scroll-zone"></div>
                    <div id="empty-state" class="chat-list-empty" style="display: none;">
                        <div class="radar-scan"></div>
                        <p>> –ñ–î–£ –°–ò–ì–ù–ê–õ–ê...</p>
                    </div>
                </div>

                <div id="chat-screen" class="screen-panel main-panel">
                    <header class="top-bar chat-header">
                        <button id="back-btn" class="btn-small mobile-only"><</button>
                        <span id="chat-title">–ö–ê–ù–ê–õ: –ù–ï –í–´–ë–†–ê–ù</span>
                    </header>
                    
                    <div id="messages-area" class="messages-container">
                        <div class="no-chat-selected"><p>> –í–´–ë–ï–†–ò–¢–ï –¶–ï–õ–¨ –î–õ–Ø –°–í–Ø–ó–ò</p></div>
                    </div>

                    <form id="msg-form" class="msg-input-area" style="display: none;">
                        <input type="file" id="chat-img-upload" accept="image/*" style="display:none">
                        
                        <div id="recording-panel" class="recording-ui" style="display: none;">
                            <div class="rec-indicator">
                                <div class="rec-dot"></div>
                                <span id="rec-timer">00:00</span>
                            </div>
                            <div class="rec-actions">
                                <button type="button" id="btn-cancel-rec" class="btn-small text-red">–û–¢–ú–ï–ù–ê</button>
                                <button type="button" id="btn-send-rec" class="btn-metal btn-icon-small">‚úì</button>
                            </div>
                        </div>

                        <div id="standard-panel" class="input-row">
                            <button type="button" id="btn-attach-img" class="btn-metal btn-icon" style="margin-right:0; border-right:none;">+</button>
                            <button type="button" id="btn-mic-rec" class="btn-metal btn-icon" style="border-left:1px solid #333;">üé§</button>
                            
                            <input type="text" id="msg-input" placeholder="–®–ò–§–†–û–í–ö–ê..." autocomplete="off">
                            
                            <button type="submit" class="btn-metal btn-send">></button>
                        </div>
                    </form>
                </div>
            </div> 
        </div>
    </div>

    <div id="profile-modal" class="modal-overlay">
        <div class="modal-box profile-box">
            <div class="modal-title">/// –õ–ò–ß–ù–û–ï –î–û–°–¨–ï ///</div>
            
            <div class="profile-avatar-container">
                <img id="profile-img-preview" src="" class="profile-avatar-large">
                <div id="avatar-placeholder" class="avatar-placeholder">–ù–ï–¢ –§–û–¢–û</div>
                <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                <button id="btn-upload-avatar" class="btn-small" style="margin-top:5px;">–ó–ê–ì–†–£–ó–ò–¢–¨ –§–û–¢–û</button>
            </div>

            <div class="input-group">
                <label>–ü–û–ó–´–í–ù–û–ô</label>
                <input type="text" id="profile-nick-input" disabled>
            </div>
            
            <div class="input-group">
                <label>–•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ê (–û–ü–ò–°–ê–ù–ò–ï)</label>
                <textarea id="profile-desc-input" class="terminal-textarea" placeholder="–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö..." disabled></textarea>
            </div>

            <div class="modal-actions">
                <button id="btn-close-profile" class="btn-small">–ó–ê–ö–†–´–¢–¨</button>
                <button id="btn-save-profile" class="btn-metal danger" style="display:none">–°–û–•–†–ê–ù–ò–¢–¨ –î–ê–ù–ù–´–ï</button>
            </div>
        </div>
    </div>

    <div id="custom-modal" class="modal-overlay" style="z-index: 20000;">
        <div class="modal-box">
            <div class="modal-title">/// SYSTEM ALERT ///</div>
            <p id="modal-msg" class="modal-text">MESSAGE TEXT</p>
            <input type="text" id="modal-input-field" placeholder="–í–í–û–î –î–ê–ù–ù–´–•...">
            <div class="modal-actions">
                <button id="modal-btn-cancel" class="btn-small">–û–¢–ú–ï–ù–ê</button>
                <button id="modal-btn-confirm" class="btn-metal danger">–ü–†–ò–ù–Ø–¢–¨</button>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>

    <div id="photo-preview-modal" class="modal-overlay" style="z-index: 15000;">
        <div class="modal-box" style="width: 400px; max-width: 90%;">
            <div class="modal-title">/// –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –î–ê–ù–ù–´–• ///</div>
            
            <div class="preview-container">
                <img id="photo-preview-img" src="" alt="Preview">
            </div>

            <div class="input-group">
                <label>–ü–û–î–ü–ò–°–¨ –ö –°–ù–ò–ú–ö–£</label>
                <input type="text" id="photo-caption-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ..." autocomplete="off">
            </div>

            <div class="modal-actions">
                <button id="btn-cancel-photo" class="btn-small">–û–¢–ú–ï–ù–ê</button>
                <button id="btn-confirm-photo" class="btn-metal">–û–¢–ü–†–ê–í–ò–¢–¨</button>
            </div>
        </div>
    </div>
                        
    <div id="image-viewer-modal" class="modal-overlay" style="z-index: 30000; background: rgba(0,0,0,0.95);">
        <span id="close-image-viewer" class="close-btn">&times;</span>
        <img class="modal-content-img" id="full-image-view">
        <div id="image-caption-view" class="caption-text"></div>
    </div>
</body>
</html>
